<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Apply for a position at Workforce Recruitment Solutions. Submit your application and take the next step in your career.">
    <title>Apply Now - Workforce Recruitment Solutions</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <h1>Workforce Recruitment Solutions</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="WorkforceRecruitmentSolution.html">Home</a></li>
                <li><a href="jobs.html">Jobs</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="apply.html" class="active">Apply</a></li>
            </ul>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Contact/Apply Section -->
    <section id="contact" class="contact-section" style="margin-top: 80px;">
        <div class="container">
            <div class="section-label">Get Started</div>
            <h2 class="section-title">Apply Now</h2>
            <p class="section-subtitle">Submit your application and take the next step in your career. We're here to help you succeed.</p>
            
            <!-- Embedded Google Form -->
            <div class="google-form-container">
                <!-- 
                    IMPORTANT: GOOGLE FORM EMBED CONFIGURATION
                    ============================================
                    The form embed URL below may need to be updated.
                    
                    To get the correct embed URL:
                    1. Open your Google Form: https://forms.gle/xPnqiE2Cytt9VyuAA
                    2. Click the "Send" button (top right corner)
                    3. Click the "< >" (embed) icon tab
                    4. Copy the iframe code provided
                    5. Extract the src URL from the iframe code
                    6. Replace the src URL below with your actual form embed URL
                    
                    Example format:
                    https://docs.google.com/forms/d/e/[YOUR_FORM_ID]/viewform?embedded=true
                -->
                <iframe 
                    id="google-form-iframe"
                    src="https://docs.google.com/forms/d/e/1FAIpQLSdXxPnqiE2Cytt9VyuAA/viewform?embedded=true" 
                    width="100%" 
                    height="1200" 
                    frameborder="0" 
                    marginheight="0" 
                    marginwidth="0"
                    title="Application Form - Workforce Recruitment Solutions"
                    style="border: none; min-height: 1200px;"
                    loading="lazy"
                    allow="fullscreen">
                    <p>Your browser does not support iframes. 
                        <a href="https://forms.gle/xPnqiE2Cytt9VyuAA" target="_blank" rel="noopener noreferrer">
                            Click here to open the application form in a new window
                        </a>.
                    </p>
                </iframe>
            </div>
            
            <!-- Alternative link - shown if form doesn't load -->
            <div class="form-fallback" id="form-fallback" style="text-align: center; margin-top: 2rem; display: none;">
                <div style="background: #fff3cd; border: 2px solid #ffc107; border-radius: 8px; padding: 1.5rem; margin-bottom: 1.5rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                    <p style="color: #856404; margin: 0 0 0.5rem 0; font-weight: 600; font-size: 1.1rem;">‚ö†Ô∏è Form Embed Error Detected</p>
                    <p style="color: #856404; margin: 0; font-size: 0.95rem;">The embedded form could not be loaded. Please click the button below to open the form directly in Google Forms.</p>
                </div>
                <a href="https://forms.gle/xPnqiE2Cytt9VyuAA" target="_blank" rel="noopener noreferrer" class="cta-button" style="display: inline-block; margin-bottom: 1rem;">
                    Open Application Form in New Window
                </a>
                <p style="color: var(--text-light); font-size: 0.85rem; margin-top: 1rem;">
                    <strong>Note:</strong> If you see this message, the Google Form embed URL in apply.html needs to be updated with the correct form ID.
                </p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <p>&copy; 2026 Workforce Recruitment Solutions. All Rights Reserved.</p>
                    <p>EST. 2023 | Building careers, one placement at a time.</p>
                </div>
                <div class="footer-contact">
                    <p class="contact-title">Contact Us</p>
                    <p class="contact-item">
                        <span class="contact-icon">üìß</span>
                        <a href="mailto:rovicmejia.hrd@gmail.com">rovicmejia.hrd@gmail.com</a>
                    </p>
                    <p class="contact-item">
                        <span class="contact-icon">üìû</span>
                        <a href="tel:+639755636276">+63 975 563 6276</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Detect if Google Form iframe fails to load and show fallback
        (function() {
            const iframe = document.getElementById('google-form-iframe');
            const fallback = document.getElementById('form-fallback');
            const container = document.querySelector('.google-form-container');
            
            if (!iframe || !fallback) return;
            
            // Function to show fallback
            function showFallback() {
                if (container) container.style.display = 'none';
                fallback.style.display = 'block';
            }
            
            // Check after page loads
            window.addEventListener('load', function() {
                // Wait a bit for iframe to load, then check
                setTimeout(function() {
                    // Try to detect if iframe loaded error content
                    try {
                        // Cross-origin check - if we can access document, check for errors
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        if (iframeDoc) {
                            const body = iframeDoc.body;
                            if (body && (
                                body.textContent.includes('does not exist') || 
                                body.textContent.includes('404') ||
                                body.textContent.includes('Sorry, the file') ||
                                body.textContent.includes('Google Drive')
                            )) {
                                showFallback();
                                return;
                            }
                        }
                    } catch (e) {
                        // Cross-origin - normal for Google Forms
                        // Check if iframe seems to have loaded properly
                        if (iframe.offsetHeight < 100) {
                            // Iframe is very small, might be an error
                            showFallback();
                        }
                    }
                }, 3000);
            });
            
            // Listen for iframe errors (may not fire due to CORS, but worth trying)
            iframe.addEventListener('error', function() {
                showFallback();
            });
            
            // Also show fallback by default after 5 seconds if form seems broken
            // This ensures users always have access to the form
            setTimeout(function() {
                // If iframe height is still very small after 5 seconds, show fallback
                if (iframe.offsetHeight < 200) {
                    showFallback();
                }
            }, 5000);
        })();
    </script>
</body>
</html>
